{"version":3,"file":"index.js","mappings":"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","sources":["webpack://colsun-piano/./src/helpers/set-tokens.js","webpack://colsun-piano/./src/classes.scss","webpack://colsun-piano/webpack/bootstrap","webpack://colsun-piano/webpack/runtime/define property getters","webpack://colsun-piano/webpack/runtime/hasOwnProperty shorthand","webpack://colsun-piano/webpack/runtime/make namespace object","webpack://colsun-piano/./src/index.js"],"sourcesContent":["/**\n * Get the root.\n */\nconst root = document.querySelector( ':root' );\n\n/**\n * Set our Piano class tokens.\n *\n * @param {string} resourceId Resource ID from Piano.\n */\nconst setTokensByResourceId = ( resourceId ) => {\n\tswitch ( resourceId ) {\n\n\t\t/**\n\t\t * Anonymous, not logged in.\n\t\t */\n\t\tdefault:\n\t\tcase '':\n\t\t\tsetMembersTokens( false );\n\t\t\tsetAnonymousTokens( true );\n\t\t\tbreak;\n\n\t\t/**\n\t\t * Logged in.\n\t\t */\n\t\tcase 'FreeTier':\n\t\t\tsetMembersTokens( false );\n\t\t\tsetAnonymousTokens( false );\n\t\t\tbreak;\n\n\t\t/**\n\t\t * Basic.\n\t\t */\n\t\tcase 'TierBasic':\n\t\t\tsetBasicTokens( true );\n\t\t\tsetMembersTokens( true );\n\t\t\tsetAnonymousTokens( false );\n\t\t\tbreak;\n\n\t\t/**\n\t\t * Basic plus.\n\t\t */\n\t\tcase 'TierBasicPlus':\n\t\t\tsetBasicPlusTokens( true );\n\t\t\tsetMembersTokens( true );\n\t\t\tsetAnonymousTokens( false );\n\t\t\tbreak;\n\n\t\t/**\n\t\t * Premium.\n\t\t */\n\t\tcase 'TierPremium':\n\t\t\tsetPremiumTokens( true );\n\t\t\tsetMembersTokens( true );\n\t\t\tsetAnonymousTokens( false );\n\t\t\tbreak;\n\n\t\t/**\n\t\t * Champion.\n\t\t */\n\t\tcase 'TierChampion':\n\t\t\tsetChampionTokens( true );\n\t\t\tsetMembersTokens( true );\n\t\t\tsetAnonymousTokens( false );\n\t\t\tbreak;\n\t}\n}\n\n/**\n * Set the tokens for a given key.\n *\n * @param {string} key  Tier key.\n * @param {bool}   show Toggle class state.\n */\nconst setTokens = ( key, show ) => {\n\tif ( show ) {\n\t\troot.style.setProperty( `--colsun--show-for-${ key }`, 'inherit' );\n\t\troot.style.setProperty( `--colsun--hide-for-${ key }`, 'none' );\n\t} else {\n\t\troot.style.setProperty( `--colsun--show-for-${ key }`, 'none' );\n\t\troot.style.setProperty( `--colsun--hide-for-${ key }`, 'inherit' );\n\t}\n}\n\nconst setMembersTokens = ( show ) => {\n\tsetTokens( 'members', show );\n};\n\nconst setAnonymousTokens = ( show ) => {\n\tsetTokens( 'anonymous', show );\n};\n\nconst setBasicTokens = ( show ) => {\n\tsetTokens( 'basic-members', show );\n};\n\nconst setBasicPlusTokens = ( show ) => {\n\tsetTokens( 'basic-plus-members', show );\n};\n\nconst setPremiumTokens = ( show ) => {\n\tsetTokens( 'premium-members', show );\n};\n\nconst setChampionTokens = ( show ) => {\n\tsetTokens( 'champion-members', show );\n};\n\nexport default setTokensByResourceId;\n","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import setTokensByResourceId from './helpers/set-tokens';\n\n/**\n * Lets webpack process CSS, SASS or SCSS files referenced in JavaScript files.\n * Those files can contain any CSS code that gets applied to the editor.\n *\n * @see https://www.npmjs.com/package/@wordpress/scripts#using-css\n */\nimport './classes.scss';\n\n/**\n * Get query arg value.\n *\n * @param {string}      key          Key.\n * @param {string|null} defaultValue Optional. Default value for when key does\n *                                   not exist.\n * @return {string|null}\n */\nconst getQueryParam = ( key, defaultValue = null ) => {\n\tconst queryArgs = new Proxy( new URLSearchParams( window.location.search ), {\n\t\tget: ( searchParams, prop ) => searchParams.get( prop ),\n\t} );\n\n\treturn queryArgs[ key ] ?? defaultValue;\n}\n\n/**\n * When the page loads, determine our resourceId, and initalize our class\n * tokens.\n */\nconst initClassTokens = () => {\n\n\t// Get information about the user's access to resources.\n\twindow.tp.api.callApi( '/access/list', {}, function( response ) {\n\n\t\t// Get the `rid` from our query arg (for testing), or our logged in RID.\n\t\tconst resourceId = getQueryParam( 'rid', response?.data?.[0]?.resource?.rid ?? '' );\n\n\t\t// Set our tokens accordingly.\n\t\tsetTokensByResourceId( resourceId );\n\t} );\n};\n\n/**\n * Self invoking function.\n */\n( function() {\n\twindow.tp = window.tp || [];\n\twindow.tp.push( [ 'init', initClassTokens ] );\n} )();\n"],"names":["root","document","querySelector","setTokensByResourceId","resourceId","setMembersTokens","setAnonymousTokens","setBasicTokens","setBasicPlusTokens","setPremiumTokens","setChampionTokens","setTokens","key","show","style","setProperty","getQueryParam","defaultValue","queryArgs","Proxy","URLSearchParams","window","location","search","get","searchParams","prop","initClassTokens","tp","api","callApi","response","data","resource","rid","push"],"sourceRoot":""}