(()=>{"use strict";const e=document.querySelector(":root"),o=(o,n)=>{n?(e.style.setProperty(`--colsun--show-for-${o}`,"inherit"),e.style.setProperty(`--colsun--hide-for-${o}`,"none")):(e.style.setProperty(`--colsun--show-for-${o}`,"none"),e.style.setProperty(`--colsun--hide-for-${o}`,"inherit"))},n=e=>{o("members",e),i(!e)},t=e=>{o("anonymous",e),s(e),r(!e),l(!e)},i=o=>{e.style.setProperty("--colsun--become-a-member-display",o?"block":"none")},s=o=>{e.style.setProperty("--colsun--login-link-display",o?"inherit":"none")},r=o=>{e.style.setProperty("--colsun--my-account-link-display",o?"inherit":"none")},l=o=>{e.style.setProperty("--colsun--logout-link-display",o?"inherit":"none")},a=e=>{switch(e){default:case"":n(!1),t(!0);break;case"TierFree":n(!1),t(!1);break;case"TierBasic":o("basic-members",!0),n(!0),t(!1);break;case"TierBasicPlus":(e=>{o("basic-plus-members",e)})(!0),n(!0),t(!1);break;case"TierPremium":(e=>{o("premium-members",e)})(!0),n(!0),t(!1);break;case"TierChampion":(e=>{o("champion-members",e)})(!0),n(!0),t(!1)}},c=function(e){var o;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const t=new Proxy(new URLSearchParams(window.location.search),{get:(e,o)=>e.get(o)});return null!==(o=t[e])&&void 0!==o?o:n};window.tp=window.tp||[],window.tp.push(["init",()=>{window.tp.api.callApi("/access/list",{},(function(e){var o,n,t,i;const s=c("rid",null!==(o=null==e||null===(n=e.data)||void 0===n||null===(t=n[0])||void 0===t||null===(i=t.resource)||void 0===i?void 0:i.rid)&&void 0!==o?o:"");a(s)}))}]),window.tp.push(["init",()=>{const e=document.getElementsByClassName("wp_piano_logout_button");Array.from(e).forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),tp.pianoId.logout(),location.reload()}))}))}]),tp.push(["addHandler","loginSuccess",()=>{window.tp.api.callApi("/access/list",{},(function(e){var o,n,t,i;const s=c("rid",null!==(o=null==e||null===(n=e.data)||void 0===n||null===(t=n[0])||void 0===t||null===(i=t.resource)||void 0===i?void 0:i.rid)&&void 0!==o?o:"");a(s)}))}]),tp.push(["init",function(){if(!tp.user.isUserValid()){const e=location.search.match(/reset_token=([A-Za-z0-9]+)/);if(e){const o=e[1];tp.pianoId.show({resetPasswordToken:o,loggedIn:function(){location.reload()}})}}}]),window.addEventListener("message",(e=>{let{data:o}=e;const{event:n,sender:t}=JSON.parse(o);"formSend"===n&&t.startsWith("piano-id-form")&&window.location.pathname.startsWith("/account/")&&location.reload()}))})();