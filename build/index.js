(()=>{"use strict";const e=document.querySelector(":root"),o=(o,t)=>{t?(e.style.setProperty(`--colsun--show-for-${o}`,"inherit"),e.style.setProperty(`--colsun--hide-for-${o}`,"none")):(e.style.setProperty(`--colsun--show-for-${o}`,"none"),e.style.setProperty(`--colsun--hide-for-${o}`,"inherit"))},t=e=>{o("members",e),l(!e)},n=e=>{o("basic-members",e)},i=e=>{o("basic-plus-members",e)},s=e=>{o("premium-members",e)},r=e=>{o("champion-members",e)},l=o=>{e.style.setProperty("--colsun--become-a-member-display",o?"block":"none")},a=(l,a)=>{switch(o("logged-out",!l),(e=>{o("logged-in",e)})(l),(o=>{e.style.setProperty("--colsun--logout-link-display",o?"inherit":"none")})(l),(o=>{e.style.setProperty("--colsun--login-link-display",o?"inherit":"none")})(!l),(o=>{e.style.setProperty("--colsun--my-account-link-display",o?"inherit":"none")})(l),a){default:t(!1),n(!1),i(!1),s(!1),r(!1);break;case"TierBasic":n(!0),t(!0);break;case"TierBasicPlus":i(!0),t(!0);break;case"TierPremium":s(!0),t(!0);break;case"TierChampion":r(!0),t(!0)}},c=function(e){var o;let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=new Proxy(new URLSearchParams(window.location.search),{get:(e,o)=>e.get(o)});return null!==(o=n[e])&&void 0!==o?o:t},d=()=>{window.tp.api.callApi("/access/list",{},(function(e){var o,t,n,i,s;const r=c("mockPianoRid",null!==(o=null==e||null===(t=e.data)||void 0===t||null===(n=t[0])||void 0===n||null===(i=n.resource)||void 0===i?void 0:i.rid)&&void 0!==o?o:""),l=c("mockPianoLoggedIn",null!==(s=window.tp.user.isUserValid())&&void 0!==s&&s);a("true"===l,r)}))};window.tp=window.tp||[],window.tp.push(["init",d]),window.tp.push(["addHandler","loginSuccess",d]),window.tp.push(["init",()=>{const e=document.getElementsByClassName("wp_piano_logout_button");Array.from(e).forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),tp.pianoId.logout(),location.reload()}))}))}]),tp.push(["init",()=>{if(tp.user.isUserValid())return;const e=location.search.match(/reset_token=([A-Za-z0-9]+)/);e&&tp.pianoId.show({resetPasswordToken:e[1],loggedIn:function(){location.reload()}})}]),window.addEventListener("message",(e=>{let{data:o}=e;const{event:t,sender:n}=JSON.parse(o);"formSend"===t&&n.startsWith("piano-id-form")&&window.location.pathname.startsWith("/account/")&&location.reload()}))})();